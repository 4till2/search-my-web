<div data-controller="toggle-class" data-toggle-class-toggle-class="hidden" class=" fixed bottom-0 left-0">
  <div data-action="click->toggle-class#toggle" class="m-auto p-4 rounded-full border-dotted">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
    </svg>
  </div>
  <div data-toggle-class-target="toggleable" class="hidden fixed inset-0 flex z-40" role="dialog" aria-modal="true">
    <div data-toggle-class-target="toggleable"
         data-action="click->toggle-class#toggle"
         data-transition-enter="transition-opacity ease-linear duration-300"
         data-transition-enter-start="opacity-0"
         data-transition-enter-end="opacity-100"
         data-transition-leave="transition-opacity ease-linear duration-300"
         data-transition-leave-start="opacity-100"
         data-transition-leave-end="opacity-0"
         class="hidden fixed inset-0 bg-gray-600 bg-opacity-75" aria-hidden="true"></div>

    <div
      data-toggle-class-target="toggleable"
      data-transition-enter="transition ease-in-out duration-300 transform"
      data-transition-enter-start="-translate-x-full"
      data-transition-enter-end="translate-x-0"
      data-transition-leave="transition ease-in-out duration-300 transform"
      data-transition-leave-start="translate-x-0"
      data-transition-leave-end="-translate-x-full"
      class="hidden relative flex-1 flex flex-col max-w-xs w-full bg-white">
      <div
        data-toggle-class-target="toggleable"
        data-transition-enter="ease-in-out duration-300"
        data-transition-enter-start="opacity-0"
        data-transition-enter-end="opacity-100"
        data-transition-leave="ease-in-out duration-300"
        data-transition-leave-start="opacity-0"
        data-transition-leave-end="opacity-100"
        class="hidden absolute top-0 right-0 -mr-12 pt-2">
        <button type="button" data-action="click->toggle-class#toggle" class=" ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
          <span class="sr-only">Close sidebar</span>
          <!-- Heroicon name: outline/x -->
          <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <div class="flex-1 h-0 pt-5 pb-4 overflow-y-auto">
        <div class="flex-shrink-0 flex items-center px-4">
          <img class="h-8 w-auto" src="https://tailwindui.com/img/logos/workflow-logo-indigo-600-mark-gray-800-text.svg" alt="Workflow">
        </div>
        <nav class="mt-5 px-2 space-y-1">
          <%= render 'shared/menu_item', page: root_path %>
          <%= render 'shared/menu_item', page: sources_path %>
        </nav>
      </div>
      <div class="flex-shrink-0 flex border-t border-gray-200 p-4">
        <% if user_signed_in? %>
          <%= link_to profile_path(current_account.profile.id), class: "flex-shrink-0 group block" do %>
            <div class="flex items-center">
              <div>
                <% if current_account.profile.avatar.attached? %>
                  <%= image_tag current_account.profile.avatar, class: 'inline-block h-10 w-10 rounded-full bg-gray-200' %>
                <% end %>
              </div>
              <div class="ml-3">
                <p class="text-base font-medium text-gray-700 group-hover:text-gray-900"><%= current_user.full_name %></p>
                <p class="text-sm font-medium text-gray-500 group-hover:text-gray-700">View profile</p>
              </div>
            </div>
          <% end %>
        <% else %>
          <div class="flex items-center">
            <%= link_to new_user_registration_path do %>
              <button class="rounded-md p-2 border-gray-500 text-gray-900 text-md hover:border-white hover:bg-indigo-700 hover:text-white">
                <%= current_user ? 'Profile' : 'Log in / Register' %>
              </button>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="flex-shrink-0 w-14">
      <!-- Force sidebar to shrink to fit close icon -->
    </div>
  </div>
</div>